<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Hidden Konami JS by rorosaurus</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
	<script type="text/javascript" src="konami.js"></script>
	<script type="text/javascript" src="md5.min.js"></script>
	<script type="text/javascript" src="generator.js"></script>
  </head>
  <body>
	<script>var easter_egg1 = new KeyKonami("0a75e752070ffe5ed283de6d81efb3db", 20);</script>
	<script>var easter_egg2 = new KeyKonami("2c1f8024fd09b1041479476ddadefa10", 10);</script>
	<script>var easter_egg3 = new KeyKonami("fd79185e94f3298b8c5836605a485fd9", 20);</script>
	<script>var easter_egg4 = new TouchKonami("a56479d68acc90358b8de7d1a6a2269c", 10);</script>
	<script>var easter_egg5 = new TouchKonami("5a67f21271c3ec412d2581a0fc0aa305", 5);</script>
  
    <div class="wrapper">
      <header>
        <h1>Hidden Konami JS</h1>
        <p>A modified konami-js with custom input patterns obfuscated by hash to keep them and the easter egg function secret</p>

        <p class="view"><a href="https://github.com/rorosaurus/hidden-konami-js">View the Project on GitHub <small>rorosaurus/hidden-konami-js</small></a></p>


        <ul>
          <li><a href="https://github.com/rorosaurus/hidden-konami-js/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/rorosaurus/hidden-konami-js/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/rorosaurus/hidden-konami-js">View On <strong>GitHub</strong></a></li>
        </ul>
		<br><br>

		<h3>Want help creating a pattern?</h3>

		<form name="generatedValues">
		<input type="radio" name="helptype" value="keyradio" onclick="generator.setType('key');" checked> Key 
		<input type="radio" name="helptype" value="touchradio" onclick="generator.setType('touch');"> Touch<br>
		<div id="helpsubtext"><small>Your input is recorded as a pattern below</small><br></div>

		<script>var generator = new Generator();</script>
		<p><button type="button" onclick="generator.reset();">Reset pattern</button></p>
				
		<strong>Here's the raw string for your pattern</strong><br>
		Pattern String:<br><input type = "text" name="patternstring" size="32"><br>
		<br>
		
		<strong>Here are the values you'll need</strong><br>
		Pattern Hash:<br><input type = "text" name="patternhash" size="32"><br>
		Pattern Length:<br><input type = "text" name="patternstringlength" size="32"><br>
		JS File Name:<br><input type = "text" name="jsfilename" size="32"><br>
		JS Function Name:<br><input type = "text" name="jsfunctionname" size="32"><br>
		<br>
		<button type="button" onclick="generator.generateHashes(true);">Download values and .js</button>
		</form><br>
      </header>
      <section>
        <h1>
<a id="hidden-konami-js" class="anchor" href="#hidden-konami-js" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Hidden Konami JS</h1>

<h2>
<a id="what-is-this" class="anchor" href="#what-is-this" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is this?</h2>

<p>The original <a href="https://github.com/snaptortoise/konami-js">konami-js</a> is a nice little library that lets you add a secret function to your website which is called when you type in the <a href="https://en.wikipedia.org/wiki/Konami_Code">Konami Code</a>!<br>
<kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">↑</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">↑</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">↓</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">↓</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">←</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">→</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">←</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">→</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">B</kbd><kbd class="keyboard-key nowrap" style="border: 1px solid #aaa; -moz-border-radius: 0.2em; -webkit-border-radius: 0.2em; border-radius: 0.2em; -moz-box-shadow: 0.1em 0.2em 0.2em #ddd; -webkit-box-shadow: 0.1em 0.2em 0.2em #ddd; box-shadow: 0.1em 0.2em 0.2em #ddd; background-color: #f9f9f9; background-image: -moz-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -o-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: -webkit-linear-gradient(top, #eee, #f9f9f9, #eee); background-image: linear-gradient(to bottom, #eee, #f9f9f9, #eee); padding: 0.1em 0.3em; font-family: inherit; font-size: 0.85em;">A</kbd></p>

<p>I love using this to sneak little easter eggs into my projects, but I've always had a few complaints.</p>

<ul>
<li>You can't customize the input pattern that reveals the secret</li>
<li>The correct input pattern and secret function are plainly visible in the page/js source, so they are easy to discover</li>
</ul>

<p>This fork aims to solve these complaints by:</p>

<ul>
<li>Enabling the customization of patterns</li>
<li>Hiding the desired input pattern and the secret function

<ul>
<li>Verifying a hash of the desired input pattern, not the pattern itself directly</li>
<li>The secret function is hidden in a new .js file, whose location is only revealed after the correct input is received</li>
</ul>
</li>
</ul>

<h2>
<a id="why-would-you-want-that" class="anchor" href="#why-would-you-want-that" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Why would you want that?</h2>

<p>You want your website to do something special, but you don't want it to be immediately obvious what the desired pattern is upon inspection of the source.  The only way to find the secret is to spread it by word of mouth! (or by finding the website owner and <a href="https://xkcd.com/538/">buying a $5 wrench</a>)</p>

<p>Using the MD5 hash is cheap and good enough for this.  It also comes with the added bonus of seeing if anyone cares about your secret enough to try and find a collision just to find an acceptable pattern!</p>

<h2>
<a id="demo" class="anchor" href="#demo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Demo</h2>

<p>There is a live demo over at <a href="https://rorosaurus.github.io/hidden-konami-js/">https://rorosaurus.github.io/hidden-konami-js/</a></p>

<p>Can you find all the secret input patterns?  Go ahead!  Open the developer tools!  Inspect the page source!  The only info you have is <code>konami.js</code> and something in the HTML document like:</p>

<pre><code>&lt;script&gt;var easter_egg = new KeyKonami("0a75e752070ffe5ed283de6d81efb3db", 20);&lt;/script&gt;
</code></pre>

<p>So you have an MD5 hash of the desired input pattern and it's length.  Not too much to go on.  So unless the site owner tells you something like:</p>

<blockquote>
<p>Hey you should type 'hello' and see what happens.</p>
</blockquote>

<p>Then you are in a tough place, unless you want to start searching for MD5 collisions. :)</p>

<p>Hint: It becomes easy once you realize the demo site contents are public on the <a href="https://github.com/rorosaurus/hidden-konami-js/tree/gh-pages">GitHub pages branch</a>.  Of course, this project is <strong>actually</strong> useful on private webservers which don't allow visitors to view the directory contents. ;)</p>

<h2>
<a id="using-hidden-konami-js" class="anchor" href="#using-hidden-konami-js" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Using hidden-konami-js</h2>

<p>On the left of the demo site, I've created a quick tool to help you generate the values for your own input patterns!  Once you settle on a good input pattern, you can save the relevant values and use them below.</p>

<p>First, you need to add the script to your page.  Make sure you add the MD5 script too!</p>

<pre><code>&lt;script type="text/javascript" src="konami.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="md5.min.js"&gt;&lt;/script&gt;
</code></pre>

<p>Next, add the easter egg to your site using the first two generated values: the pattern hash and the pattern length. (You can use more than one easter egg, just make sure to use a different variable name!)</p>

<pre><code>&lt;script&gt;var easter_egg = new KeyKonami("pattern_hash", pattern_length);&lt;/script&gt;
</code></pre>

<p>Finally, using the generated filename, create a new <code>js_filename.js</code> file.  Create a function with the name that was generated - then add your easter egg code!  You're done!</p>

<pre><code>function function_name(){
    alert("Your secret code goes here!");
}
</code></pre>

<p>I recommend storing information about the input patterns inside the .js files.  This is useful so you don't forget your own inputs or which codes go to which secret functions.</p>

<p>It might also be fun to daisy chain these files together by providing hints for the next secret input pattern - turning your easter eggs into a literal easter egg hunt!</p>

<h2>
<a id="this-is-not-secure" class="anchor" href="#this-is-not-secure" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>"This is not secure"</h2>

<p>You are correct.  Please <strong>do not use this to secure anything actually important</strong>.  This is just meant to be a simple way to make some dumb secret jokes on your website, which can (mostly) only be discovered or spread by word-of-mouth.  This does not actually protect anything and, as previously mentioned, can be defeated by a determined adversary.</p>

<h2>
<a id="thanks" class="anchor" href="#thanks" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Thanks</h2>

<p>Original konami-js repo: <a href="https://github.com/snaptortoise/konami-js">https://github.com/snaptortoise/konami-js</a></p>

<p>MD5 library repo: <a href="https://github.com/blueimp/JavaScript-MD5">https://github.com/blueimp/JavaScript-MD5</a></p>

<p>Licensed under the MIT License (<a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a>)</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/rorosaurus">rorosaurus</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
